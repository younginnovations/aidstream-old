<li class="element-activity">

    <div class="element-title">
        Location
    </div>

    <div class="edit"><a href="<?php echo $this->baseUrl() ?>/activity/edit-element/?activity_id=<?php echo $this->activity_id; ?>&className=Activity_Location">Edit</a></div>

    <?php foreach ($this->elements as $element): ?>
        <?php if ($i == '1'): ?>
            <div class="highlight">
            <?php else: ?>
                <div class="highlight first">
                <?php endif; ?>
                <?php if (!empty($element['@ref'])): ?>
                    <ul class="style-4 first">
                        <li>
                            <span class="name">Reference: </span>
                            <span class="infom sub-details"><?php if ($element['@ref'] != "") print ($element['@ref']); ?></span>
                        </li>
                    </ul>
                <?php endif; ?>

                <!-- LocationReach Starts -->
                <?php
                $locationreach = $element['LocationReach'];
                ?>
                <?php if (!empty($locationreach)): ?>
                    <ul class="style-1 style-4">
                        <h2>Location Reach</h2>
                            <li>
                                <span class="name">Code:</span>
                                <span class="infom"><?php if ($locationreach['@code']) (printf(" %s [%s] ",Iati_Core_Codelist::getCodeByAttrib('GeographicLocationReach' , '@code' , $locationreach['@code'],'Name'),Iati_Core_Codelist::getCodeByAttrib('GeographicLocationReach' , '@code' , $locationreach['@code']))) ?></span>
                            </li>
                    </ul>
                <?php endif; ?>
                <!-- LocationReach Ends -->

                <!-- LocationId Starts -->
                <?php
                $locationids = $element['LocationId'];
                ?>
                <?php if (!empty($locationids)): ?>
                    <ul class="style-1 style-4">
                        <h2>Location Id</h2>
                        <?php foreach ($locationids as $locationid): ?>
                            <li>
                                <span class="name">Code:</span>
                                <span class="infom"><?php if ($locationid['@code'] != "") print ($locationid['@code']); ?></span>
                            </li>
                            <li>
                                <span class="name">Vocabulary:</span>
                                <span class="infom"><?php if ($locationid['@vocabulary']) (printf(" %s [%s] ",Iati_Core_Codelist::getCodeByAttrib('GeographicVocabulary' , '@vocabulary' , $locationid['@vocabulary'],'Name'),Iati_Core_Codelist::getCodeByAttrib('GeographicVocabulary' , '@vocabulary' , $locationid['@vocabulary']))) ?></span>
                            </li>
                        <?php endforeach; ?>
                    </ul>
                <?php endif; ?>
                <!-- LocationReach Ends -->

                <!-- Name Starts -->
                <?php
                $name = $element['Name'];
                ?>
                <?php $narratives = $name['Narrative']; ?>
                <?php if (!empty($name)): ?>
                    <ul class="style-1 style-4">
                        <h2>Name</h2>
                        <?php foreach ($narratives as $narrative): ?>    
                            <li>
                                <span class="name">Text:</span>
                                <span class="infom"> <?php if ($narrative['text'] != "") print ($narrative['text']); ?>
                                    <?php
                                        if ($narrative['@xml_lang'])
                                            {
                                                printf("[%s]" , Iati_Core_Codelist::getCodeByAttrib(
                                                    'Name' , '@xml_lang' , $narrative['@xml_lang']));
                                            }
                                    ?> 
                                </span>
                            </li>
                        <?php endforeach; ?>    
                    </ul>
                <?php endif; ?>
                <!-- Name Ends -->

                <!-- Description Starts -->
                <?php
                $description = $element['Description'];
                ?>
                <?php $narratives = $description['Narrative']; ?>
                <?php if (!empty($description)): ?>
                    <ul class="style-1 style-4">
                        <h2>Description</h2>
                        <?php foreach ($narratives as $narrative): ?> 
                            <li>
                                <span class="name">Text:</span>
                                <span class="infom"> <?php if ($narrative['text'] != "") print ($narrative['text']); ?>
                                        <?php
                                            if ($narrative['@xml_lang'])
                                                {
                                                    printf("[%s]" , Iati_Core_Codelist::getCodeByAttrib(
                                                        'Description' , '@xml_lang' , $narrative['@xml_lang']));
                                                }
                                        ?> 
                                </span>
                                
                            </li>
                        <?php endforeach; ?>    
                    </ul>
                <?php endif; ?>
                <!-- Description Ends -->

                <!-- ActivityDescription Starts -->
                <?php
                $activitydescription = $element['ActivityDescription'];
                ?>
                <?php $narratives = $activitydescription['Narrative']; ?>
                <?php if (!empty($activitydescription)): ?>
                    <ul class="style-1 style-4">
                        <h2>Activity Description</h2>
                            <?php foreach ($narratives as $narrative): ?>
                                <li>
                                    <span class="name">Text:</span>
                                    <span class="infom"> <?php if ($narrative['text'] != "") print ($narrative['text']); ?>
                                        <?php
                                            if ($narrative['@xml_lang'])
                                                {
                                                    printf("[%s]" , Iati_Core_Codelist::getCodeByAttrib(
                                                        'ActivityDescription' , '@xml_lang' , $narrative['@xml_lang']));
                                                }
                                        ?> 
                                    </span>
                                    
                                </li>
                            <?php endforeach; ?>    
                    </ul>
                <?php endif; ?>
                <!-- ActivityDescription Ends -->

                <!-- Administrative Starts -->
                <?php
                $administratives = $element['Administrative'];
                ?>
                <?php if (!empty($administratives)): ?>
                    <ul class="style-1 style-4">
                        <h2>Administrative</h2>
                        <?php foreach ($administratives as $administrative): ?>
                            <li>
                                <span class="name">Code:</span>
                                <span class="infom"><?php if ($administrative['@code'] != "") print ($administrative['@code']); ?></span>
                            </li>
                            <li>
                                <span class="name">Adminstrative:</span>
                                <span class="infom"><?php if ($administrative['@vocabulary']) (printf(" %s [%s] ",Iati_Core_Codelist::getCodeByAttrib('GeographicVocabulary' , '@vocabulary' , $administrative['@vocabulary'],'Name'),Iati_Core_Codelist::getCodeByAttrib('GeographicVocabulary' , '@vocabulary' , $administrative['@vocabulary']))) ?></span>
                            </li>
                            <li>
                                <span class="name">Level:</span>
                                <span class="infom"><?php if ($administrative['@level'] != "") print ($administrative['@level']); ?></span>
                            </li>
                    <?php endforeach; ?>
                    </ul>
                <?php endif; ?>
                <!-- Administrative Ends -->
                
                <!-- Point Starts -->
                <?php
                $point=$element['Point'];
                ?>
                <?php if (!empty($point)): ?>
                    <ul class="style-1 style-4">
                        <h2>Point</h2>
                            <li>
                                <span class="name">srsName:</span>
                                <span class="infom"><?php if($point['@srsName'])(print $point['@srsName']) ?></span>
                            </li>
                            <?php $pos = $point['Pos']; ?>
                            <?php if (!empty($pos)): ?>
                                <li>
                                    <span class="name">Position:</span>
                                    <span class="infom"><?php if($pos['@latitude'] && $pos['@longitude']) print $pos['@latitude'] . ', ' . $pos['@longitude'] ?></span>
                                </li>
                            <?php endif; ?>
                    </ul>
                <?php endif; ?>
                <!-- Point Ends -->
                
                <!-- Exactness Starts -->
                <?php
                $exactness=$element['Exactness'];
                ?>
                <?php if (!empty($exactness)): ?>
                    <ul class="style-1 style-4">
                        <h2>Exactness</h2>
                            <li>
                                <span class="name">Code:</span>
                                <span class="infom"><?php if ($exactness['@code']) (printf(" %s [%s] ",Iati_Core_Codelist::getCodeByAttrib('GeographicExactness' , '@code' , $exactness['@code'],'Name'),Iati_Core_Codelist::getCodeByAttrib('GeographicExactness' , '@code' , $exactness['@code']))) ?></span>
                            </li>
                    </ul>
                <?php endif; ?>
                <!-- Exactness Ends -->

                <!-- LocationClass Starts -->
                <?php
                $locationclass=$element['LocationClass'];
                ?>
                <?php if (!empty($locationclass)): ?>
                    <ul class="style-1 style-4">
                        <h2>Location Class</h2>
                            <li>
                                <span class="name">Code:</span>
                                <span class="infom"><?php if ($locationclass['@code']) (printf(" %s [%s] ",Iati_Core_Codelist::getCodeByAttrib('GeographicLocationClass' , '@code' , $locationclass['@code'],'Name'),Iati_Core_Codelist::getCodeByAttrib('GeographicLocationClass' , '@code' , $locationclass['@code']))) ?></span>
                            </li>
                    </ul>
                <?php endif; ?>
                <!-- LocationClass Ends -->

                <!-- FeatureDesignation Starts -->
                <?php
                $featuredesignation=$element['FeatureDesignation'];
                ?>
                <?php if (!empty($featuredesignation)): ?>
                    <ul class="style-1 style-4">
                        <h2>Feature Designation</h2>
                            <li>
                                <span class="name">Code:</span>
                                <span class="infom"><?php if ($featuredesignation['@code']) (printf(" %s [%s] ",Iati_Core_Codelist::getCodeByAttrib('LocationType' , '@code' , $featuredesignation['@code'],'Name'),Iati_Core_Codelist::getCodeByAttrib('LocationType' , '@code' , $featuredesignation['@code']))) ?></span>
                            </li>
                    </ul>
                <?php endif; ?>
                <!-- FeatureDesignation Ends -->

            </div>
            <?php $i = $i + 1; ?>
        <?php endforeach; ?>

</li><!-- end of element-activity -->